# Кодовник (CodeKeeper)

**Кодовник** — это безопасный десктопный менеджер паролей, написанный на Python с использованием библиотеки Tkinter. Приложение предназначено для локального хранения конфиденциальных данных (паролей, банковских карт, заметок) в зашифрованном виде.

## Основные возможности

*   **Надежное шифрование:** Все чувствительные данные шифруются алгоритмом AES (через библиотеку `cryptography`) перед сохранением в базу данных SQLite.
*   **Локальное хранение:** Ваши данные не отправляются в облако. Все хранится в файле `password_manager.db` на вашем компьютере.
*   **Категории записей:** Поддержка различных типов данных:
    *   Сайты и сервисы
    *   Банковские карты
    *   Email аккаунты
    *   Оффлайн коды
    *   Документы и произвольные поля
*   **Генератор паролей:** Встроенный инструмент для создания стойких паролей.
*   **Резервное копирование:** Автоматическое и ручное создание бэкапов базы данных.
*   **Импорт и Экспорт:** Возможность выгрузки данных в CSV и загрузки из него.
*   **Удобный интерфейс:**
    *   Поиск и фильтрация.
    *   Адаптивный дизайн (полноэкранный/компактный режим).
    *   Масштабирование шрифтов.
    *   Поддержка горячих клавиш.
    *   Автоблокировка при неактивности.

---

## Установка и запуск

Для работы приложения требуется установленный **Python 3.10+**.

### 1. Клонирование или копирование проекта
Скачайте файлы проекта в папку `CodeKeeper`.

### 2. Создание виртуального окружения
Рекомендуется использовать виртуальное окружение, чтобы не засорять системный Python.

**Windows:**
```bash
python -m venv venv
venv\Scripts\activate
```

**Linux / macOS:**
```bash
python3 -m venv venv
source venv/bin/activate
```

### 3. Установка зависимостей
```bash
pip install -r requirements.txt
```

Или вручную:
```bash
pip install cryptography
```

### 4. Запуск
```bash
python main.py
```

---

##  Горячие клавиши
```
| Сочетание    | Действие
| **Ctrl + N** | Добавить новую запись
| **Ctrl + F** | Поиск по записям
| **Ctrl + I** | Импортировать из CSV
| **Ctrl + E** | Экспортировать в CSV
| **Ctrl + ,** | Открыть настройки
| **Ctrl + Q** | Выход из программы
| **F11** | Полноэкранный режим
| **Ctrl + C** | Копировать (в полях ввода, работает на любой раскладке)
| **Ctrl + V** | Вставить (в полях ввода, работает на любой раскладке)
| **Ctrl + X** | Вырезать (в полях ввода)
| **Ctrl + A** | Выделить всё (в полях ввода)
```
---

## Структура проекта

```text
CodeKeeper/
assets/                  # Папка с иконками и изображениями
    icon.ico
    lock.png
    ... (другие png)

src/                     # Исходный код приложения
    __init__.py

    app.py               # Собирает всё воедино.
                            # Хранит PasswordManager, связывает БД и UI.

    config.py            # Загрузка и сохранение настроек (config.json)
    database.py          # Подключение к SQLite, создание таблиц
    resources.py         # Менеджер иконок (загрузка из assets/)
    utils.py             # Утилиты (шрифты, затемнение цветов и т.д.)

core/                # Ядро логики (не зависящее от UI)
    __init__.py
    clipboard.py     # "Умный" буфер обмена (фикс русской раскладки)

ui/                  # Компоненты главного интерфейса (Widgets)
    __init__.py
    header.py        # Верхняя синяя полоска (Статус + Блокировка)
    menu.py          # Системное меню (Файл, Вид, Помощь)
    toolbar.py       # Кнопки (Добавить, Удалить) + Генератор
    filters.py       # Полоска поиска и фильтров
    table.py         # Таблица с данными (Treeview) + Логика кликов

windows/             # Отдельные всплывающие окна
    __init__.py
    login.py         # Окно входа (LoginWindow)
    add_edit.py      # Окно добавления/редактирования (AddEditPasswordWindow)
    details.py       # Окно просмотра деталей (DetailModal)
    settings.py      # Окно настроек (SettingsWindow)
    about.py         # Окно "О программе" (AboutWindow)

main.py                  # ТОЧКА ВХОДА. Просто запускает приложение.
requirements.txt         # Список библиотек (cryptography, etc.)
config.json              # Файл настроек пользователя (создается авто)
password_manager.db      # База данных (создается авто)
```

---

## Основные функции

### Типы записей
Приложение поддерживает 7 типов записей, каждый с настраиваемыми полями:

1. **Сайт / Сервис (WEB)** — для онлайн-аккаунтов (логин, пароль, URL и т.д.)
2. **Оффлайн код (OFFLINE)** — для кодов, которые не связаны с интернетом
3. **Соц. сеть (SOCIAL)** — для социальных сетей (никнейм, пароль и т.д.)
4. **Почта (EMAIL)** — для email-аккаунтов с восстановлением доступа
5. **Банк / Счет (BANK)** — для банковских счетов (БИК, номер счета и т.д.)
6. **Банковская карта (CARD)** — для платежных карт (номер, CVV, PIN)
7. **Другое (CUSTOM)** — произвольные поля по вашему выбору

### Безопасность
*   **Мастер-пароль:** Опциональная защита при входе
*   **Автоблокировка:** Программа может автоматически заблокироваться при неактивности
*   **Подтверждение копирования:** Возможность требовать ввод мастер-пароля при копировании
*   **Выделение старых паролей:** Визуальное отмечение паролей, не менявшихся более года

### Фильтрация и поиск
*   Поиск по названию или логину в реальном времени
*   Фильтрация по типу записи
*   Множество вариантов сортировки (по дате, названию, избранным и т.д.)

### Резервное копирование
*   **Автоматическое:** Ежедневно или раз в неделю (настраивается)
*   **Ручное:** Создание копии в любой момент
*   **Выбор папки:** Можно указать папку для хранения бэкапов

---

## Важные предупреждения

### 1. Файл `encryption.key`
Это главный ключ к шифрованию всех ваших паролей. 

**Что делать:**
- **Никогда** не удаляйте этот файл, пока используете приложение
- **Сделайте копию** в надежном месте (флешка, облако и т.д.)
- **Защитите** этот файл от несанкционированного доступа
- При переносе программы на другой компьютер скопируйте вместе с `password_manager.db`

**Что если файл удален?**
- Все ваши пароли станут **недоступны навсегда**
- Восстановление невозможно

### 2. Мастер-пароль
- Если вы включили опцию "Запрашивать пароль при входе", **запомните его**
- При забывчивости восстановление **невозможно**
- Мастер-пароль можно изменить в Настройках → Безопасность

### 3. Безопасность базы данных
- База данных хранится в `password_manager.db` в открытом доступе
- Однако, без файла `encryption.key` она бесполезна для злоумышленников
- Все равно рекомендуется установить пароль на пользователя ОС

---

## Требования

*   Python 3.10 или выше
*   Tkinter (обычно идет с Python)
*   cryptography (устанавливается через pip)

---

##  Советы по использованию

1. **Сильные пароли:** Используйте встроенный генератор для создания надежных паролей
2. **Резервные копии:** Регулярно проверяйте наличие бэкапов в папке `_backup`
3. **Экспорт данных:** Периодически экспортируйте данные в CSV как страховку
4. **Масштабирование:** Если шрифт в интерфейсе слишком малый/большой, измените масштаб в Настройках

---

##  История развития

**Версия 1.0.0** (10.01.2026)
- Первый релиз
- Все основные функции реализованы
- Поддержка 7 типов записей
- Интегрированный генератор паролей
- Импорт/Экспорт в CSV

---

## Разработчик

**Николаев Кирилл Викторович**

Студент 1 курса магистратуры ИТМО  
Направление: "Цифровые методы в гуманитарных исследованиях"

Email: Kolmikol12@gmail.com

---

## Лицензия

Этот проект создан в образовательных целях.  
Вы можете свободно использовать его для личного пользования.

---

##  Поддержка и обратная связь

Если у вас есть предложения, вопросы или вы нашли баг:
- Отправьте email на Kolmikol12@gmail.com
- Создайте Issue на GitHub (если проект будет выложен туда)

---

**Спасибо за использование Кодовника!**
